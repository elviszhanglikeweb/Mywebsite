<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册页面</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no">
    <title>AppShare--All for one,one for all</title>
    <!--<link href="/image/favicon.ico" rel="shortcut icon">-->
    <link href="../bootstrap-3.3.7-dist/css/bootstrap.css" type="text/css" rel="stylesheet">
    <link href="../bootstrap-3.3.7-dist/css/bootstrap-theme.css" type="text/css" rel="stylesheet">
    <link href="../css/index.css" type="text/css" rel="stylesheet">
    <link rel="shortcut icon" href="../favicon.ico">
    <script src="../js/jquery-3.1.0.min.js"></script>
    <script src="../bootstrap-3.3.7-dist/js/bootstrap.js"></script>
</head>
<style>
    @media screen and (width: 1920px) {

    }
    @media screen and (width: 414px) and (width: 375px){
        #desktop{
            display: none;
        }
        #mobile{
            display: block;
        }
    }
    </style>
<body style="overflow-x: hidden;overflow-y: hidden;background-color: #f6f6f6">
<div id="desktop">
    <div style="display: none;margin: 0px" id="succssful" class="alert alert-success alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>感谢!</strong> 你的宝贵意见已经采纳！
    </div>
    <div style="display: none;margin: 0px" id="warning" class="alert alert-warning alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>请检查一下你的邮箱是否符合标准！用户名长度请小于5！</strong>
    </div>
    <div class="pid" style="width: 20%;height: 20%;margin-left: 45%;margin-top: 5%">
        <h2 style="font-family: 'Microsoft YaHei UI Light'">新用户注册</h2>
    </div>
    <div id="pid1" style="margin-top: 1%;width: 20%;margin-left: 40%;" class="input-group">
        <span class="input-group-addon" >注册用户</span>
        <input id="user" type="text" class="form-control" placeholder="Username" aria-describedby="basic-addon1">
    </div>
    <div id="pid2" style="margin-top: 1%;width: 20%;margin-left: 40%;" class="input-group">
        <span class="input-group-addon" >注册邮箱</span>
        <input id="mail" type="text" class="form-control" placeholder="Email" aria-describedby="basic-addon1">
    </div>
    <div id="pid3" style="margin-top: 1%;width: 20%;margin-left: 40%;" class="input-group">
        <span class="input-group-addon" >用户密码</span>
        <input id="password" type="text" class="form-control" placeholder="Password" aria-describedby="basic-addon1">
    </div>
    <div id="pid4" style="margin-top: 1%;width: 20%;margin-left: 40%;" class="input-group">
        <span class="input-group-addon" >确认密码</span>
        <input id="confirm" type="text" class="form-control" placeholder="Confirm" aria-describedby="basic-addon1">
    </div>
    <div class="pid" style="margin-left: 56%;width: 30%;height: 10%;margin-top: 2%">
        <button id="register" style="width: 13%;height: 30%;border: 0px;background-color: #62b900"><p id="font" style="border-radius: 10%;font-family: 'Microsoft YaHei UI Light';color: white;font-size: large">注册</p></button>
    </div>
</div>
<div id="mobile" style="display: none" >
    <div class="pid-m" style="display: none;width: 40%;height: 20%;margin-left: 30%;position: absolute;margin-top: 8%">
    <h2 style="font-family: 'Microsoft YaHei UI Light'">新用户注册</h2>
</div>
    <div id="pid1-m" style="display: none;margin-top: 30%;width: 70%;margin-left: 15%;position:absolute;" class="input-group">
        <span class="input-group-addon" >注册用户</span>
        <input id="user-m" type="text" class="form-control" placeholder="Username" aria-describedby="basic-addon1">
    </div>
    <div id="pid2-m" style="display: none;margin-top: 45%;width: 70%;margin-left: 15%;position:absolute;" class="input-group">
        <span class="input-group-addon" >注册邮箱</span>
        <input id="mail-m" type="text" class="form-control" placeholder="Email" aria-describedby="basic-addon1">
    </div>
    <div class="pid-m" style="display: none;margin-left: 65%;width: 150%;height: 15%;position: absolute;margin-top: 60%">
        <button id="register-m" style="width: 13%;height: 30%;border: 0px;background-color: #62b900"><p id="font-m" style="border-radius: 10%;font-family: 'Microsoft YaHei UI Light';color: white;font-size: large">注册</p></button>
    </div></div>
</body>
<script>
        var h;
        var w;
        w=document.documentElement.clientWidth||document.body.clientWidth;
        h=document.documentElement.clientHeight||document.body.clientHeight;
        $('body').css('height',h);
        $('body').css('width',w);
        if(w<=414)
        {
            $(".pid").css('display','none');
            $("#pid1").css('display','none');
            $("#pid2").css('display','none');
            $(".pid-m").css('display','block');
        }
        if(w>414){
            $("div#pid1-m").css('display','none');
            $("div#pid2-m").css('display','none');
        }
        if(1360<=w&&w<=1366){
            $("p#font").css("font-size","small");
        }
        var filter=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
        $("#register").click(function () {
            if(filter.test($('#mail').val()))   //判断邮件是否按照的正则表达式
            {
                var userlong=$("#user").val().length;
                var commentlong=$("#mail").val().length;
                if($("#confirm").val()==$('#password').val()){
                    if($('#user').val()!=""&&$('#mail').val()!=""&&userlong<=5&&commentlong<=12){   //判断是否为空
                        $.get("../php/comment.php",{user_name:$('#user').val(), email:$('#mail').val(),password:$("#password").val()},function (data) {
                            tell(data);
                        });
                    }
                    else
                    {
                        $('#succssful').fadeOut();
                        $('#warning').fadeIn();
                    }
                }
            }
            else {
                $('#succssful').fadeOut();
                $('#warning').fadeIn();
            }
            function tell(data) {
                if(!data){
                    alert("注册成功！");
                }
            }
        });
        $("#register-m").click(function () {
            if(filter.test($('#mail-m').val()))   //判断邮件是否按照的正则表达式
            {
                var userlong=$("#user-m").val().length;
                var commentlong=$("#mail-m").val().length;
                if($('#user-m').val()!=""&&$('#mail-m').val()!=""&&userlong<=5&&commentlong<=12){   //判断是否为空
                    $.get("../php/comment.php",{name:$('#user-m').val(), mail:$('#mail-m').val()},function (data) {
                        tell(data);
                    });
                }
                else
                {
                    $('#succssful').fadeOut();
                    $('#warning').fadeIn();
                }
            }
            else {
                $('#succssful').fadeOut();
                $('#warning').fadeIn();
            }
            function tell(data) {
                if(!data){
                    alert("注册成功！");
                }
            }
        });
</script>
</html>